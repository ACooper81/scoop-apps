{
    "version": "1.1.32.00",
    "description": "The ultimate automation scripting language for Windows.",
    "license": "GPL-2.0-or-later",
    "homepage": "https://www.autohotkey.com/",
    "pre_install": " Write-Host 'Installing AutoHotKey with their installer and its own options ( create registry keys removed by uninstaller )' -ForegroundColor Magenta ",
    "architecture": {
        "64bit": {
            "url": "https://github.com/Lexikos/AutoHotkey_L/releases/download/v1.1.32.00/AutoHotkey_1.1.32.00_setup.exe#/setup.exe",
            "hash": "ce505d272f8d36c5599ac81f005e1d2d586eeaaa778c779ad858e44fdadfdb0d",
            "installer": {
                "script": [
                    "$programname = \"AutoHotkey*\"",
                    "if(!(Get-Package -Provider Programs -IncludeWindowsInstaller -Name \"$programname\" -RequiredVersion $version -ErrorAction SilentlyContinue))",
                    "{",
                    "   &\"$dir\\setup.exe\" /S /x64 /uiAccess=1 /IsHostApp=1 | Out-Null",
                    "   if(!(Get-Package -Provider Programs -IncludeWindowsInstaller -Name \"$programname\" -RequiredVersion $version -ErrorAction SilentlyContinue))",
                    "   {",
                    "       exit 1",
                    "   }",
                    "}",
                    "Remove-Item \"$dir\\setup.exe\" -Force"
                ]
            },
            "uninstaller": {
                "script": [
                    "$programname = \"AutoHotkey*\"",
                    "$ProgramFilesPath = [Environment]::GetFolderPath(\"ProgramFiles\")",
                    "$processname = \"AutoHotkey.exe\"",
                    "if(Get-Package -Provider Programs -IncludeWindowsInstaller -Name \"$programname\" -RequiredVersion $version -ErrorAction SilentlyContinue)",
                    "{",
                    "   taskkill /F /IM $processname /FI 'status eq running'",
                    "   &\"$ProgramFilesPath\\AutoHotkey\\AutoHotkey.exe\" \"$ProgramFilesPath\\AutoHotkey\\Installer.ahk\" /Uninstall | Out-Null",
                    "   if(Get-Package -Provider Programs -IncludeWindowsInstaller -Name \"$programname\" -RequiredVersion $version -ErrorAction SilentlyContinue)",
                    "   {",
                    "       exit 1",
                    "   }",
                    "}"
                ]
            }
        },
        "32bit": {
            "url": "https://github.com/Lexikos/AutoHotkey_L/releases/download/v1.1.32.00/AutoHotkey_1.1.32.00_setup.exe#/setup.exe",
            "hash": "ce505d272f8d36c5599ac81f005e1d2d586eeaaa778c779ad858e44fdadfdb0d",
            "installer": {
                "script": [
                    "$programname = \"AutoHotkey*\"",
                    "if(!(Get-Package -Provider Programs -IncludeWindowsInstaller -Name \"$programname\" -RequiredVersion $version -ErrorAction SilentlyContinue))",
                    "{",
                    "   &\"$dir\\setup.exe\" /S /U32 /uiAccess=1 /IsHostApp=1 | Out-Null",
                    "   if(!(Get-Package -Provider Programs -IncludeWindowsInstaller -Name \"$programname\" -RequiredVersion $version -ErrorAction SilentlyContinue))",
                    "   {",
                    "       exit 1",
                    "   }",
                    "}",
                    "Remove-Item \"$dir\\setup.exe\" -Force"
                ]
            },
            "uninstaller": {
                "script": [
                    "$programname = \"AutoHotkey*\"",
                    "$ProgramFilesPath = [Environment]::GetFolderPath(\"ProgramFiles\")",
                    "$processname = \"AutoHotkey.exe\"",
                    "if(Get-Package -Provider Programs -IncludeWindowsInstaller -Name \"$programname\" -RequiredVersion $version -ErrorAction SilentlyContinue)",
                    "{",
                    "   taskkill /F /IM $processname /FI 'status eq running'",
                    "   &\"$ProgramFilesPath\\AutoHotkey\\AutoHotkey.exe\" \"$ProgramFilesPath\\AutoHotkey\\Installer.ahk\" /Uninstall | Out-Null",
                    "   if(Get-Package -Provider Programs -IncludeWindowsInstaller -Name \"$programname\" -RequiredVersion $version -ErrorAction SilentlyContinue)",
                    "   {",
                    "       exit 1",
                    "   }",
                    "}"
                ]
            }
        }
    },
    "checkver": {
        "github": "https://github.com/lexikos/autohotkey_l"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/Lexikos/AutoHotkey_L/releases/download/v$version/AutoHotkey_$version_setup.exe#/setup.exe"
            },
            "32bit": {
                "url": "https://github.com/Lexikos/AutoHotkey_L/releases/download/v$version/AutoHotkey_$version_setup.exe#/setup.exe"
            }
        }
    }
}
