{
    "version": "1.1.32.00",
    "description": "The ultimate automation scripting language for Windows.",
    "license": "GPL-2.0-or-later",
    "homepage": "https://www.autohotkey.com/",
    "pre_install": " Write-Host 'Installing AutoHotKey with their installer and its own options ( create registry keys removed by uninstaller )' -ForegroundColor Magenta ",
    "architecture": {
        "64bit": {
            "url": "https://github.com/Lexikos/AutoHotkey_L/releases/download/v1.1.32.00/AutoHotkey_1.1.32.00_setup.exe#/setup.exe",
            "hash": "ce505d272f8d36c5599ac81f005e1d2d586eeaaa778c779ad858e44fdadfdb0d",
            "installer": {
                "script": [
                    "$programname = \"AutoHotkey*\"",
                    "$installpath = \"$dir\\setup.exe\"",
                    "$installargs = \"'/S', '/x64', '/uiAccess=1', '/IsHostApp=1'\"",
                    "if(!(Get-Package -Provider Programs -IncludeWindowsInstaller -Name \"$programname\" -RequiredVersion $version -ErrorAction SilentlyContinue))",
                    "{",
                    "   Invoke-ExternalCommand \"$installpath\" -ArgumentList @($installargs) -RunAs | Out-Null",
                    "   if(!(Get-Package -Provider Programs -IncludeWindowsInstaller -Name \"$programname\" -RequiredVersion $version -ErrorAction SilentlyContinue))",
                    "   {",
                    "       exit 1",
                    "   }",
                    "}",
                    "Remove-Item \"$dir\\setup.exe\" -Force"
                ]
            },
            "uninstaller": {
                "file": "setup.exe",
                "args": "/Uninstall"
            }
        },
        "32bit": {
            "url": "https://github.com/Lexikos/AutoHotkey_L/releases/download/v1.1.32.00/AutoHotkey_1.1.32.00_setup.exe#/setup.exe",
            "hash": "ce505d272f8d36c5599ac81f005e1d2d586eeaaa778c779ad858e44fdadfdb0d",
            "installer": {
                "script": [
                    "$programname = \"AutoHotkey*\"",
                    "$installpath = \"$dir\\setup.exe\"",
                    "$installargs = \"'/S', '/U32', '/uiAccess=1', '/IsHostApp=1'\"",
                    "if(!(Get-Package -Provider Programs -IncludeWindowsInstaller -Name \"$programname\" -RequiredVersion $version -ErrorAction SilentlyContinue))",
                    "{",
                    "   Invoke-ExternalCommand \"$installpath\" -ArgumentList @($installargs) -RunAs | Out-Null",
                    "   if(!(Get-Package -Provider Programs -IncludeWindowsInstaller -Name \"$programname\" -RequiredVersion $version -ErrorAction SilentlyContinue))",
                    "   {",
                    "       exit 1",
                    "   }",
                    "}",
                    "Remove-Item \"$dir\\setup.exe\" -Force"
                ]
            },
            "uninstaller": {
                "file": "setup.exe",
                "args": "/Uninstall"
            }
        }
    },
    "checkver": {
        "github": "https://github.com/lexikos/autohotkey_l"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/Lexikos/AutoHotkey_L/releases/download/v$version/AutoHotkey_$version_setup.exe#/setup.exe"
            },
            "32bit": {
                "url": "https://github.com/Lexikos/AutoHotkey_L/releases/download/v$version/AutoHotkey_$version_setup.exe#/setup.exe"
            }
        }
    }
}
