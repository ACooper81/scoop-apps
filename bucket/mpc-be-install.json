{
    "version": "1.5.4.4969",
    "description": "Media Player Classic - BE is a free and open source audio and video player for Windows",
    "homepage": "https://mpcbe.sourceforge.io/",
    "license": "GPL-3.0-only",
    "architecture": {
        "64bit": {
            "url": "https://sourceforge.net/projects/mpcbe/files/MPC-BE/Release%20builds/1.5.4/MPC-BE.1.5.4.4969.x64-installer.zip#/setup.zip",
            "hash": "sha1:ba0a641204276a377e976eadd6d02911c938962f",
            "installer": {
                "script": [
                    "$InstallFile = Get-ChildItem -Path \"$dir\" -Include *.exe -File -Recurse -ErrorAction SilentlyContinue",
                    "Invoke-ExternalCommand \"$dir\\$InstallFile\" -ArgumentList @('/VERYSILENT', '/SUPPRESSMSGBOXES', '/NORESTART', '/SP-') -RunAs | Out-Null"
                ]
            },
            "post_install": [
                "$DesktopPath = [Environment]::GetFolderPath(\"DesktopDirectory\")",
                "if (Test-Path \"$DesktopPath\\MPC-BE x64.lnk\") {Remove-Item \"$DesktopPath\\MPC-BE x64.lnk\" -Force}"
            ],
            "uninstaller": {
                "script": [
                    "$ProgramFilesPath = [Environment]::GetFolderPath(\"ProgramFiles\")",
                    "& \"$ProgramFilesPath\\MPC-BE x64\\unins000.exe\" /VERYSILENT /SUPPRESSMSGBOXES /NORESTART"
                ]
            }
        },
        "32bit": {
            "url": "https://sourceforge.net/projects/mpcbe/files/MPC-BE/Release%20builds/1.5.4/MPC-BE.1.5.4.4969.x86-installer.zip#/setup.zip",
            "hash": "sha1:073f3ed713b0b1184fa6cf573f0ffff1911d08d4",
            "installer": {
                "script": [
                    "$InstallFile = Get-ChildItem -Path \"$dir\" -Include *.exe -File -Recurse -ErrorAction SilentlyContinue",
                    "Invoke-ExternalCommand \"$dir\\$InstallFile\" -ArgumentList @('/VERYSILENT', '/SUPPRESSMSGBOXES', '/NORESTART', '/SP-') -RunAs | Out-Null"
                ]
            },
            "post_install": [
                "$DesktopPath = [Environment]::GetFolderPath(\"DesktopDirectory\")",
                "if (Test-Path \"$DesktopPath\\MPC-BE x86.lnk\") {Remove-Item \"$DesktopPath\\MPC-BE x86.lnk\" -Force}"
            ],
            "uninstaller": {
                "script": [
                    "$ProgramFilesPath = [Environment]::GetFolderPath(\"ProgramFiles\")",
                    "& \"$ProgramFilesPath\\MPC-BE x86\\unins000.exe\" /VERYSILENT /SUPPRESSMSGBOXES /NORESTART"
                ]
            }
        }
    },
    "checkver": {
        "url": "https://sourceforge.net/projects/mpcbe/files/MPC-BE/Release%20builds/",
        "regex": "<span class=\"sub-label\">MPC-BE.([\\d.]+).x64"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://sourceforge.net/projects/mpcbe/files/MPC-BE/Release%20builds/$majorVersion.$minorVersion.$patchVersion/MPC-BE.$majorVersion.$minorVersion.$patchVersion.$buildVersion.x64-installer.zip#/setup.zip",
                "installer": {
                    "script": "Invoke-ExternalCommand \"$dir\\MPC-BE.$majorVersion.$minorVersion.$patchVersion.$buildVersion.x64.exe\" -ArgumentList @('/VERYSILENT', '/SUPPRESSMSGBOXES', '/NORESTART', '/SP-') -RunAs | Out-Null"
                }
            },
            "32bit": {
                "url": "https://sourceforge.net/projects/mpcbe/files/MPC-BE/Release%20builds/$majorVersion.$minorVersion.$patchVersion/MPC-BE.$majorVersion.$minorVersion.$patchVersion.$buildVersion.x86-installer.zip#/setup.zip",
                "installer": {
                    "script": "Invoke-ExternalCommand \"$dir\\MPC-BE.$majorVersion.$minorVersion.$patchVersion.$buildVersion.x86.exe\" -ArgumentList @('/VERYSILENT', '/SUPPRESSMSGBOXES', '/NORESTART', '/SP-') -RunAs | Out-Null"
                }
            }
        }
    }
}
